<html>

<head>
<meta http-equiv="Page-Enter" content="blendTrans(Duration=2)">
<title>DFE - Distributed Fish Enviroment</title>
</head>

<body bgcolor="#C0C0C0" text="#000080" vlink="#008080" alink="#00FFFF">

<p align="center"><a href="index.html" target><img src="banner.jpg"
alt="banner.jpg (11738 bytes)" start="fileopen" border="0" width="858" height="134"></a></p>

<h1 align="center"><big><font face="Arial">Ethernet Driver: NE2000</font></big></h1>

<hr size="4">

<p><font face="Arial">Contributors:</font> 

<ul start="1" type="disc">
  <li><font face="Arial"><a href="mailto:site@xnet.com">Douglas Armstrong</a>: Shared code
    base.</font></li>
</ul>

<hr>

<p><font face="Arial">The main driver core is finished!&nbsp; It has been (sorta) tested
and appears to be able to both send and receive packets off the Ethernet.&nbsp; So far it
seems stable.&nbsp; It's ready and now available under the shared code base, talk to me
for details.</font></p>

<p><font face="Arial">The documentation has been completed and is online:</font></p>

<p><font face="Arial"><a href="howto_ne2k.htm">Documentation for the NE2000 driver core.</a></font></p>

<p><font face="Arial">For the upper layers in the protocol stack it is important to know
the format of the Ethernet frame header:</font></p>
<div align="center"><center>

<table border="1" width="81%">
  <tr>
    <td width="51%"><p align="left"><font face="Arial">Destination Address</font></td>
    <td width="16%" align="center"><font face="Arial">6 bytes</font></td>
    <td width="62%" align="left"><p align="left"><font face="Arial">Hardware address of target
    card</font></td>
  </tr>
  <tr>
    <td width="51%"><p align="left"><font face="Arial">Source Address</font></td>
    <td width="16%" align="center"><font face="Arial">6 bytes</font></td>
    <td width="62%" align="left"><p align="left"><font face="Arial">Hardware address of
    originating card</font></td>
  </tr>
  <tr>
    <td width="51%"><p align="left"><font face="Arial">Protocol Type / Frame Length</font></td>
    <td width="16%" align="center"><font face="Arial">2 bytes</font></td>
    <td width="62%" align="left"><p align="left"><font face="Arial">Multiplexed data, see
    below.</font></td>
  </tr>
</table>
</center></div>

<p><font face="Arial">The Ethernet supports two kinds of frames to be sent over the wire,
Ethernet II and 802.3.&nbsp; The Ethernet II frame stores the protocol type in the header.
&nbsp; Some common entries are IP, ARP, Loopback, etc...&nbsp; The 802.3 style stores the
length of the packet in the header in place of the protocol type.&nbsp; This is possible
because all the protocol types are enumerated with numbers greater than 1500, which is the
upper bound on an Ethernet frame length.&nbsp; This allows the two types it coexist
happily and for them to both use the field differently.&nbsp; We did some tracing, and it
appears that the Macs were using multicast address with 802.3 frames.</font></p>

<hr>

<ul start="1" type="disc">
  <li><a href="http://www.national.com/pf/DP/DP8390D.html">DP8390D Network Interface
    Controller - NE2000</a></li>
  <li><a href="http://www.national.com/an/AN/AN-475.pdf">AN-475: DP8390 Network Interface
    Controller: An Introductory Guide</a></li>
  <li><a href="http://www.national.com/an/AN/AN-874.pdf">AN-874: Writing Drivers for the
    DP83902 &amp; DP83905 Ethernet Controllers</a> </li>
</ul>

<hr size="4">

<p align="center"><b><var><tt>[<a href="http://www.acm.uiuc.edu/">ACM@UIUC</a>]
&nbsp;&nbsp; [<a href="http://www.acm.uiuc.edu/sigops/">SigOps</a>]&nbsp;&nbsp; [<a
href="mailto:sigops@uiuc.edu">Feedback</a>]<br>
(C)1997, 1998&nbsp; -&nbsp; This has been a SigOps presentation.<br>
Created: November 7, 1997&nbsp; / <a href="mailto:drarmstr@uiuc.edu">drarmstr</a> / &nbsp;
Updated: November 7, 1997</tt></var></b></p>
</body>
</html>
